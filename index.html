<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Quiz</title>
    <style>
      #alert {
        display: none;
        background-color: #4caf50;
        color: white;
        padding: 20px;
        margin-bottom: 20px;
        border-radius: 5px;
      }

      #alert.show {
        display: block;
      }

      .alert-title {
        font-weight: bold;
        font-size: 18px;
        margin-bottom: 5px;
      }

      .correct {
        background-color: #b6ffb6;
      }

      .wrong {
        background-color: #ffb6b6;
      }
    </style>
  </head>
  <body>
    <div style="margin-bottom: 20px">
      <a
        href="quiz_API.html"
      >
        Aller au Quiz Dynamique
      </a>
    </div>

    <div id="alert">
      <div class="alert-title">Congratulations!!</div>
      You got them all right!
    </div>

    <form id="quiz-form">
      <ol>
        <li class="question-item">
          <div>
            What does this code return? (<code>0 || '' || false || "Hi"</code>)
          </div>
          <div>
            <ol>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-1"
                    value="false"
                  />
                  <code>0</code>
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-1"
                    value="true"
                  />
                  <code>"Hi"</code>
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-1"
                    value="false"
                  />
                  <code>false</code>
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-1"
                    value="false"
                  />
                  <code>''</code>
                </label>
              </li>
            </ol>
          </div>
        </li>

        <li class="question-item">
          <div>What is it called when a function calls itself?</div>
          <div>
            <ol>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-2"
                    value="false"
                  />
                  Inception
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-2"
                    value="false"
                  />
                  Self-Referential
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-2"
                    value="true"
                  />
                  Recursion
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-2"
                    value="false"
                  />
                  Who Cares
                </label>
              </li>
            </ol>
          </div>
        </li>

        <li class="question-item">
          <div>
            How do you access the value of the
            <code>data-count</code> attribute?
          </div>
          <div>
            <ol>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-3"
                    value="false"
                  />
                  <code>element.dataset.count</code>
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-3"
                    value="false"
                  />
                  <code>element.dataAttribute.count</code>
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-3"
                    value="false"
                  />
                  <code>element.dataset.dataCount</code>
                </label>
              </li>
              <li class="answer-item">
                <label>
                  <input
                    class="answer"
                    type="radio"
                    name="answer-3"
                    value="true"
                  />
                  <code>element.dataCount</code>
                </label>
              </li>
            </ol>
          </div>
        </li>
      </ol>

      <button type="submit">Check</button>
    </form>

    <script>
      const form = document.getElementById("quiz-form");
      const alert = document.getElementById("alert");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        let score = 0;

        document.querySelectorAll(".question-item").forEach((q) => {
          q.classList.remove("correct", "wrong");
        });

        for (let i = 1; i <= 3; i++) {
          const selected = document.querySelector(
            `input[name="answer-${i}"]:checked`
          );
          const questionItem =
            document.querySelectorAll(".question-item")[i - 1];

          if (selected && selected.value === "true") {
            score++;
            questionItem.classList.add("correct");
          } else {
            questionItem.classList.add("wrong");
          }
        }

        if (score === 3) {
          alert.classList.add("show");
        } else {
          alert.classList.remove("show");
        }
      });
    </script>
  </body>
</html>
